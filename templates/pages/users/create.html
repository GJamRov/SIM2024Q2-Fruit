{% extends 'base.html' %}

{% block title %}Create user{% endblock title %}

{% block content %}
<div class="main">
    <a
      href="{{url_for('web_app.users_index')}}"
      class="bg-slate-600 text-sm text-white py-2 px-3 rounded"
      >Back</a
    >
    <h3 class="text-xl font-bold underline mt-4">Create User Account</h3>
    <form action="">
      <label for="first"> Username: </label>
      <input
        type="text"
        id="first"
        name="first"
        class="w-full md:w-[50%] xl:w-[30%]"
        placeholder="Enter your Username"
        required
      />

      <label for="password"> Password: </label>
      <input
        type="password"
        id="password"
        name="password"
        class="w-full md:w-[50%] xl:w-[30%]"
        placeholder="Enter your Password"
        required
      />

      <label for="confirm-password"> Confirm password: </label>
      <input
        type="password"
        id="confirm-password"
        name="confirm-password"
        onkeyup="check()"
        class="w-full md:w-[50%] xl:w-[30%]"
        placeholder="Enter your Password"
        required
      />
      <span id="confirm-password-error" style="color: red"></span>

      <label for="email"> Email: </label>
      <input
        type="text"
        id="email"
        name="email"
        class="w-full md:w-[50%] xl:w-[30%]"
        placeholder="Enter your Email"
        required
      />

      <label for="profile"> Profile: </label>
      <select id="profile" name="profile" class="w-full md:w-[50%] xl:w-[30%]" required>
        <option value="System Admin">System Admin</option>
        <option value="Real Estate Agent">Real Estate Agent</option>
        <option value="Buyer">Buyer</option>
        <option value="Seller">Seller</option>
      </select>
      
      <div class="wrap">
        <button type="submit" id="submit-button">
          Create user account
        </button>
      </div>
    </form>
  </div>
{% endblock content %}

{% block script %}
<script>
  function check() {
    var input = document.getElementById("confirm-password");
    var error = document.getElementById("confirm-password-error");
      if (
        input.value != "" &&
        input.value != document.getElementById("password").value
      ) {
        error.innerHTML = "Password does not match";
        document.getElementById("submit-button").disabled = true;
      } else {
        // input is valid -- reset the error message
        error.innerHTML = "";
        if (input.value != "") {
          document.getElementById("submit-button").disabled = false;
        }
      }
    }
</script>
{% endblock script %}